---
title: Hooks Reference
description: Complete reference for all SDK hooks including wallet, balance, transaction, and advanced Solana operations.
---

import React from 'react'

# Hooks Reference

Complete reference for all ConnectorKit SDK hooks.

## Wallet Hooks

### useWalletAddress

Get wallet connection state and address information.

```tsx
import { useWalletAddress } from '@connector-kit/sdk'

function WalletInfo() {
  const { address, addressParsed, connected, connecting } = useWalletAddress()
  
  return (
    <div>
      <p>Status: {connecting ? 'Connecting...' : connected ? 'Connected' : 'Disconnected'}</p>
      {address && <p>Address: {address}</p>}
    </div>
  )
}
```

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `address` | `string \| null` | Wallet address as string |
| `addressParsed` | `Address \| null` | Parsed address object |
| `connected` | `boolean` | Whether wallet is connected |
| `connecting` | `boolean` | Whether connection is in progress |

## Balance Hooks

### useBalance

Fetch and monitor SOL or token balances with automatic caching and refresh.

```tsx
import { useBalance } from '@connector-kit/sdk'

function Balance() {
  const { balance, isLoading, error, refresh, clear } = useBalance({ 
    address: 'wallet-address',
    mint: undefined, // undefined for SOL, token mint for SPL tokens
    refreshInterval: 30000, // Auto-refresh every 30 seconds
    enabled: true, // Enable/disable the hook
    onUpdate: (balance) => console.log('Balance updated:', balance)
  })
  
  return (
    <div>
      <p>Balance: {balance ? Number(balance) / 1e9 : 0} SOL</p>
      <button onClick={refresh}>Refresh</button>
      <button onClick={clear}>Clear Cache</button>
    </div>
  )
}
```

**Options:**

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `address` | `string \| Address` | - | Wallet address to check |
| `mint` | `Address` | `undefined` | Token mint (undefined for SOL) |
| `refreshInterval` | `number` | `30000` | Auto-refresh interval in ms |
| `enabled` | `boolean` | `true` | Enable/disable the hook |
| `onUpdate` | `(balance: bigint) => void` | - | Callback when balance updates |

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `balance` | `bigint \| null` | Balance in lamports/smallest unit |
| `isLoading` | `boolean` | Loading state |
| `error` | `ArcError \| null` | Error object if failed |
| `refresh` | `() => void` | Manually refresh balance |
| `clear` | `() => void` | Clear cached balance |

### useBalanceEnhanced

Enhanced balance hook with React 19 performance patterns (experimental).

```tsx
import { useBalanceEnhanced } from '@connector-kit/sdk'

function EnhancedBalance() {
  const { balance, isStale, lastUpdated } = useBalanceEnhanced({ 
    address: 'wallet-address',
    staleTime: 10000, // Consider stale after 10 seconds
    cacheTime: 300000, // Cache for 5 minutes
    retryOnError: true
  })
  
  return (
    <div>
      <p>Balance: {balance ? Number(balance) / 1e9 : 0} SOL</p>
      {isStale && <span>⚠️ Data may be stale</span>}
      <small>Last updated: {lastUpdated?.toLocaleString()}</small>
    </div>
  )
}
```

## Transaction Hooks

### useTransaction

Send transactions with automatic wallet integration and error handling.

```tsx
import { useTransaction } from '@connector-kit/sdk'

function TransactionSender() {
  const { sendTransaction, isLoading, error } = useTransaction()
  
  const handleSend = async () => {
    try {
      const signature = await sendTransaction({
        to: 'recipient-address',
        amount: 0.001 * 1e9 // 0.001 SOL in lamports
      })
      console.log('Transaction sent:', signature)
    } catch (error) {
      console.error('Transaction failed:', error)
    }
  }
  
  return (
    <div>
      <button onClick={handleSend} disabled={isLoading}>
        {isLoading ? 'Sending...' : 'Send 0.001 SOL'}
      </button>
      {error && <p>Error: {error.message}</p>}
    </div>
  )
}
```

**Options:**

| Parameter | Type | Description |
|-----------|------|-------------|
| `to` | `string` | Recipient address |
| `amount` | `number` | Amount in lamports |
| `memo` | `string` | Optional transaction memo |

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `sendTransaction` | `(params) => Promise<string>` | Send transaction function |
| `isLoading` | `boolean` | Transaction in progress |
| `error` | `ArcError \| null` | Transaction error if failed |

## Network Hooks

### useCluster

Manage Solana network/cluster selection.

```tsx
import { useCluster } from '@connector-kit/sdk'

function NetworkSelector() {
  const { cluster, setCluster, clusters } = useCluster()
  
  return (
    <div>
      <p>Current Network: {cluster.name}</p>
      <select 
        value={cluster.name} 
        onChange={(e) => setCluster(e.target.value)}
      >
        {clusters.map(c => (
          <option key={c.name} value={c.name}>
            {c.name} - {c.endpoint}
          </option>
        ))}
      </select>
    </div>
  )
}
```

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `cluster` | `SolanaCluster` | Current cluster info |
| `setCluster` | `(name: string) => void` | Switch cluster |
| `clusters` | `SolanaCluster[]` | Available clusters |

### useAirdrop

Request airdrops on devnet/testnet for development.

```tsx
import { useAirdrop } from '@connector-kit/sdk'

function AirdropButton() {
  const { address } = useWalletAddress()
  const { requestAirdrop, isLoading, error } = useAirdrop()
  
  const handleAirdrop = () => {
    requestAirdrop({ 
      address, 
      amount: 1e9 // 1 SOL 
    })
  }
  
  return (
    <div>
      <button onClick={handleAirdrop} disabled={isLoading}>
        {isLoading ? 'Requesting...' : 'Request Airdrop'}
      </button>
      {error && <p>Error: {error.message}</p>}
    </div>
  )
}
```

**Options:**

| Parameter | Type | Description |
|-----------|------|-------------|
| `address` | `string` | Target address |
| `amount` | `number` | Amount in lamports |

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `requestAirdrop` | `(params) => Promise<string>` | Request airdrop function |
| `isLoading` | `boolean` | Request in progress |
| `error` | `ArcError \| null` | Airdrop error if failed |

## Provider Integration Hooks

### useSwap

Swap tokens using Jupiter DEX (requires `@connector-kit/jupiter`).

```bash
npm install @connector-kit/jupiter
```

```tsx
import { useSwap } from '@connector-kit/sdk'

function SwapInterface() {
  const { quote, swap, isLoading, supportedTokens } = useSwap()
  
  const handleSwap = async () => {
    const quoteResponse = await quote({
      inputMint: 'So11111111111111111111111111111111111111112', // SOL
      outputMint: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v', // USDC
      amount: 1000000 // 0.001 SOL
    })
    
    if (quoteResponse) {
      await swap(quoteResponse)
    }
  }
  
  return (
    <div>
      <p>Supported Tokens: {supportedTokens?.length}</p>
      <button onClick={handleSwap} disabled={isLoading}>
        {isLoading ? 'Swapping...' : 'Swap SOL to USDC'}
      </button>
    </div>
  )
}
```

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `quote` | `(params) => Promise<SwapQuote>` | Get swap quote |
| `swap` | `(quote) => Promise<string>` | Execute swap |
| `isLoading` | `boolean` | Swap in progress |
| `supportedTokens` | `Token[]` | List of supported tokens |

## Core Provider Hook

### useArcClient

Access the underlying Arc client for advanced usage.

```tsx
import { useArcClient } from '@connector-kit/sdk'

function AdvancedComponent() {
  const { wallet, network, config } = useArcClient()
  
  return (
    <div>
      <p>Network: {network.name}</p>
      <p>RPC: {network.rpcUrl}</p>
      <p>Wallet Connected: {wallet.address ? 'Yes' : 'No'}</p>
    </div>
  )
}
```

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `wallet` | `WalletState` | Current wallet state |
| `network` | `NetworkState` | Network configuration |
| `config` | `ArcConfig` | Arc client configuration |

## Error Handling

All hooks return standardized error objects:

```tsx
interface ArcError extends Error {
  code: ArcErrorCode
  context: ArcErrorContext
  timestamp: number
}

// Error codes
enum ArcErrorCode {
  WALLET_NOT_CONNECTED = 'wallet_not_connected',
  INSUFFICIENT_FUNDS = 'insufficient_funds', 
  TRANSACTION_FAILED = 'transaction_failed',
  NETWORK_ERROR = 'network_error',
  INVALID_ADDRESS = 'invalid_address'
}
```

Example error handling:

```tsx
import { useBalance, ArcErrorCode } from '@connector-kit/sdk'

function BalanceWithErrorHandling() {
  const { balance, error } = useBalance({ address: 'wallet-address' })
  
  if (error) {
    switch (error.code) {
      case ArcErrorCode.WALLET_NOT_CONNECTED:
        return <div>Please connect your wallet</div>
      case ArcErrorCode.NETWORK_ERROR:
        return <div>Network error. Please try again.</div>
      default:
        return <div>Error: {error.message}</div>
    }
  }
  
  return <div>Balance: {Number(balance || 0) / 1e9} SOL</div>
}
```

## Performance Tips

### Hook Dependencies

Most hooks automatically handle dependencies, but you can optimize by providing stable references:

```tsx
const address = useMemo(() => selectedAccount, [selectedAccount])
const { balance } = useBalance({ address })
```

### Caching

Balance and other data hooks use React Query for intelligent caching:

```tsx
// Cached for 30 seconds by default
const { balance } = useBalance({ 
  address,
  refreshInterval: 30000 
})
```

### Conditional Fetching

Disable hooks when data isn't needed:

```tsx
const { balance } = useBalance({ 
  address,
  enabled: !!address && connected 
})
```
