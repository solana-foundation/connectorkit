---
title: Jupiter Provider
description: Jupiter is Solana's leading DEX aggregator, providing optimal routing across multiple liquidity sources with advanced features like dynamic slippage and smart routing.
---

# Jupiter Provider

Jupiter is Solana's premier DEX aggregator that finds the best routes across multiple liquidity sources. The `@arc/jupiter` provider gives you seamless access to Jupiter's powerful routing engine with built-in optimizations and caching.

## Quick Start

```tsx
import { createJupiter } from '@arc/jupiter'
import { useSwap } from '@connectorkit/hooks'

function JupiterSwap() {
  const provider = createJupiter({
    slippageBps: 50, // 0.5% slippage
  })

  const { quote, swap, isLoading } = useSwap({ provider })

  const handleSwap = async () => {
    const quoteResult = await quote({
      inputMint: 'So11111111111111111111111111111111111111112', // SOL
      outputMint: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v', // USDC
      amount: 1_000_000_000n // 1 SOL
    })
    
    await swap(quoteResult)
  }

  return (
    <button onClick={handleSwap} disabled={isLoading}>
      {isLoading ? 'Swapping...' : 'Swap 1 SOL â†’ USDC'}
    </button>
  )
}
```

## Configuration

### JupiterConfig Interface

```tsx
interface JupiterConfig {
  // Basic Configuration
  apiUrl?: string                        // Custom API endpoint (default: Jupiter v6)
  slippageBps?: number                   // Default slippage in basis points (default: 50)
  
  // Routing Options
  onlyDirectRoutes?: boolean             // Disable multi-hop routing (default: false)
  excludeDexes?: string[]                // Exclude specific DEXs from routing
  maxAccounts?: number                   // Limit accounts per transaction
  
  // Transaction Configuration  
  asLegacyTransaction?: boolean | 'auto' // Transaction version preference
  walletSupportsVersioned?: boolean      // Whether wallet supports v0 transactions
  
  // Fee Configuration
  platformFeeBps?: number                // Platform fee in basis points
  computeUnitPriceMicroLamports?: number // Priority fee (micro-lamports)
  computeUnitLimit?: number              // Compute unit limit
  dynamicComputeUnitLimit?: boolean      // Auto-adjust compute units (default: true)
  
  // Advanced Features
  dynamicSlippage?: boolean              // Auto-adjust slippage based on market conditions
  
  // Performance & Reliability
  retries?: number                       // Request retry count (default: 1)
  timeoutMs?: number                     // Request timeout in milliseconds (default: 10000)
  debug?: boolean                        // Enable debug logging
  
  // Development
  corsProxy?: boolean | string           // CORS proxy for development (auto-detected)
}
```

### Basic Configuration

```tsx
// Minimal configuration
const provider = createJupiter()

// With custom slippage
const provider = createJupiter({
  slippageBps: 100 // 1% slippage
})

// Production configuration
const provider = createJupiter({
  slippageBps: 50,
  retries: 3,
  timeoutMs: 15000,
  dynamicSlippage: true,
  computeUnitPriceMicroLamports: 5000 // 0.005 SOL priority fee
})
```

### Advanced Configuration

```tsx
// High-frequency trading setup
const provider = createJupiter({
  slippageBps: 25,                    // Tight slippage
  onlyDirectRoutes: true,             // Skip multi-hop for speed
  dynamicSlippage: false,             // Consistent slippage
  computeUnitPriceMicroLamports: 10000, // High priority
  retries: 1,                         // Fast fail
  timeoutMs: 5000,                    // Quick timeout
  debug: false
})

// MEV protection setup
const provider = createJupiter({
  slippageBps: 50,
  dynamicSlippage: true,              // Adapt to market conditions
  maxAccounts: 20,                    // Limit complexity
  excludeDexes: ['Raydium CLMM'],     // Exclude specific DEXs
  computeUnitPriceMicroLamports: 1000 // Moderate priority
})
```

## Features

### Smart Routing
Jupiter automatically finds the best route across multiple DEXs:

```tsx
// Jupiter will check routes through:
// - Raydium
// - Orca
// - Serum
// - Saber
// - And many more...

const quote = await provider.quote({
  inputMint: 'BONK_MINT',
  outputMint: 'USDC_MINT', 
  amount: 1000000n
})

console.log('Best route found:', quote.route.routePlan)
```

### Dynamic Slippage
Automatically adjust slippage based on market conditions:

```tsx
const provider = createJupiter({
  slippageBps: 50,        // Base slippage
  dynamicSlippage: true   // Let Jupiter optimize
})

const quote = await provider.quote(params)
console.log('Effective slippage:', quote.effectiveSlippageBps)
// May be lower than 50 bps if market conditions are stable
```

### Quote Caching
Built-in caching prevents duplicate requests:

```tsx
// These calls will be cached for 1 second
const quote1 = await provider.quote(params) // API call
const quote2 = await provider.quote(params) // Cached result
const quote3 = await provider.quote(params) // Cached result
```

### Token Support
Check if a token is supported by Jupiter:

```tsx
const isSupported = provider.isTokenSupported('EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v')
console.log('USDC supported:', isSupported) // true

// Get all supported tokens
import { getJupiterTokens } from '@arc/jupiter'
const tokens = await getJupiterTokens()
console.log(`${tokens.length} tokens supported`)
```

## Error Handling

### Network Errors
The provider includes automatic retry logic:

```tsx
const provider = createJupiter({
  retries: 3,
  timeoutMs: 10000
})

try {
  const quote = await provider.quote(params)
} catch (error) {
  if (error.name === 'AbortError') {
    console.log('Request timed out')
  } else {
    console.log('Network error:', error.message)
  }
}
```

### Invalid Inputs
Validate inputs before calling Jupiter:

```tsx
// The provider will throw for invalid addresses
try {
  const quote = await provider.quote({
    inputMint: 'invalid-address',
    outputMint: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',
    amount: 1000000n
  })
} catch (error) {
  console.log('Invalid input:', error.message)
}
```

## Performance Optimization

### Quote Deduplication
Multiple simultaneous requests are automatically deduplicated:

```tsx
// Only one API call is made, both promises resolve with the same result
const [quote1, quote2] = await Promise.all([
  provider.quote(params),
  provider.quote(params)
])
```

### Request Cancellation
Previous requests are cancelled when new ones are made:

```tsx
// Second call cancels the first
provider.quote(params1) // This gets cancelled
provider.quote(params2) // This completes
```

### Memory Management
The provider automatically manages cache size and cleanup:

```tsx
// Cache is limited to 20 entries and cleaned up automatically
// No memory leaks from long-running applications
```

## Integration Examples

### With useSwap Hook

```tsx
import { createJupiter } from '@arc/jupiter'
import { useSwap } from '@connectorkit/hooks'

function SwapInterface() {
  const provider = createJupiter({ slippageBps: 50 })
  const { quote, swap, isLoading, error } = useSwap({ provider })

  const [inputAmount, setInputAmount] = useState('')
  const [quoteResult, setQuoteResult] = useState(null)

  const handleQuote = async () => {
    try {
      const result = await quote({
        inputMint: 'So11111111111111111111111111111111111111112',
        outputMint: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',
        amount: BigInt(Number(inputAmount) * 1e9)
      })
      setQuoteResult(result)
    } catch (err) {
      console.error('Quote failed:', err)
    }
  }

  const handleSwap = async () => {
    if (!quoteResult) return
    await swap(quoteResult)
  }

  return (
    <div>
      <input 
        value={inputAmount} 
        onChange={(e) => setInputAmount(e.target.value)}
        placeholder="Amount in SOL"
      />
      <button onClick={handleQuote} disabled={isLoading}>
        Get Quote
      </button>
      {quoteResult && (
        <div>
          <p>Output: {Number(quoteResult.outputAmount) / 1e6} USDC</p>
          <p>Price Impact: {quoteResult.priceImpact}%</p>
          <button onClick={handleSwap} disabled={isLoading}>
            Execute Swap
          </button>
        </div>
      )}
      {error && <p>Error: {error.message}</p>}
    </div>
  )
}
```

### Multi-Provider Comparison

```tsx
import { createJupiter } from '@arc/jupiter'

function CompareProviders() {
  const providers = [
    createJupiter({ slippageBps: 50 }),
    createJupiter({ slippageBps: 100, onlyDirectRoutes: true })
  ]

  const compareQuotes = async () => {
    const params = {
      inputMint: 'So11111111111111111111111111111111111111112',
      outputMint: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',
      amount: 1_000_000_000n
    }

    const quotes = await Promise.allSettled(
      providers.map((provider, i) => 
        provider.quote(params).then(quote => ({ ...quote, providerIndex: i }))
      )
    )

    const validQuotes = quotes
      .filter((result): result is PromiseFulfilledResult<any> => 
        result.status === 'fulfilled'
      )
      .map(result => result.value)

    const best = validQuotes.reduce((best, current) => 
      current.outputAmount > best.outputAmount ? current : best
    )

    console.log('Best quote from provider:', best.providerIndex)
    return best
  }

  return <button onClick={compareQuotes}>Compare Jupiter Configs</button>
}
```

## Troubleshooting

### Common Issues

**CORS Errors in Development**
```tsx
// Enable CORS proxy for local development
const provider = createJupiter({
  corsProxy: true // Auto-detected based on hostname
})
```

**Rate Limiting**
```tsx
// Reduce request frequency
const provider = createJupiter({
  retries: 1,
  timeoutMs: 5000
})
```

**High Priority Fees**
```tsx
// Set priority fees for faster execution
const provider = createJupiter({
  computeUnitPriceMicroLamports: 5000, // 0.005 SOL
  dynamicComputeUnitLimit: true
})
```

**Large Transactions**
```tsx
// Limit complexity for better success rates
const provider = createJupiter({
  maxAccounts: 20,
  onlyDirectRoutes: true
})
```

## Installation

```bash
npm install @arc/jupiter
# or
yarn add @arc/jupiter
# or
pnpm add @arc/jupiter
```

## API Reference

### createJupiter(config?)

Creates a Jupiter provider instance.

**Parameters:**
- `config` (optional): `JupiterConfig` - Configuration options

**Returns:** `SwapProvider` - Jupiter provider instance

### getJupiterTokens()

Fetches the list of tokens supported by Jupiter.

**Returns:** `Promise<JupiterToken[]>` - Array of supported tokens

**Example:**
```tsx
const tokens = await getJupiterTokens()
tokens.forEach(token => {
  console.log(`${token.symbol}: ${token.address}`)
})
```

The Jupiter provider offers the most comprehensive DEX aggregation on Solana with enterprise-grade reliability and performance optimizations.